<!-- Header -->
<header class="bg-white text-gray-900 shadow-lg sticky top-0 z-50">
    <nav class="container mx-auto px-4 py-3">
        <div class="flex flex-wrap items-center justify-between gap-4">
            <div class="flex w-full items-center justify-between">
                <!-- Logo -->
                <a href="/">
                    <div
                            class="flex items-center space-x-2 transition-transform hover:scale-105 mr-3">
                        <svg
                                class="h-8 w-8 text-orange-600"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24">
                            <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                        <span class="text-xl font-bold text-orange-600 hidden xl:flex"
                        >Evently</span
                        >
                    </div>
                </a>

                <!-- Search & Location Bars -->
                <div class="w-full ml-3" x-data="{ showLocation: false }">
                    <div class="flex gap-3 w-full">
                        <div class="relative">
                            <input
                                    type="text"
                                    placeholder="Search events"
                                    class="w-full rounded-full border border-gray-300 bg-gray-100 pl-10 pr-4 py-2 text-gray-900 focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200"
                                    @click="showLocation = true" />
                            <svg
                                    class="w-5 h-5 text-gray-400 absolute left-3 top-2.5"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24">
                                <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                        <div class="hidden lg:flex gap-3">
                            <!-- Location Input -->
                            <div class="relative flex-grow">
                                <input
                                        type="text"
                                        placeholder="Grand Casablanca"
                                        class="w-full rounded-full border border-gray-300 bg-gray-100 pl-10 pr-4 py-2 text-gray-900 focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200" />
                                <svg
                                        class="w-5 h-5 text-gray-400 absolute left-3 top-2.5"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24">
                                    <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </div>
                        </div>

                        <!-- Location Input (Mobile - hidden by default) -->
                        <div
                                class="relative transition-all duration-300 origin-top lg:hidden"
                                x-show="showLocation"
                                x-transition:enter="transition ease-out duration-200"
                                x-transition:enter-start="opacity-0 scale-95"
                                x-transition:enter-end="opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-100"
                                x-transition:leave-start="opacity-100 scale-100"
                                x-transition:leave-end="opacity-0 scale-95">
                            <input
                                    type="text"
                                    placeholder="Grand Casablanca"
                                    class="w-full rounded-full border border-gray-300 bg-gray-100 pl-10 pr-4 py-2 text-gray-900 focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200" />
                            <svg
                                    class="w-5 h-5 text-gray-400 absolute left-3 top-2.5"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24">
                                <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>

                        <!-- Search Button -->
                        <button
                                class="bg-orange-500 text-white px-4 py-2 rounded-full hover:bg-orange-600 focus:outline-none transition-all duration-300 hover:shadow-lg active:scale-95 flex items-center justify-center gap-2">
                            <svg
                                    class="w-5 h-5"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24">
                                <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                            <span>Search</span>
                        </button>

                    </div>
                </div>
                {% if isAuth != true %}
                <div class=" w-[100%] xl:flex hidden flex justify-end items-center">
                    <ul class="flex flex-row justify-end items-center gap-8 p-0 list-none">
                        <li class="block p-0 m-0 text-[#39364F] no-underline cursor-auto">Show All Events</li>
                        <li class="block p-0 m-0 text-[#39364F] no-underline cursor-auto">Create events</li>
                        <a href="Auth/Login"><li class="block p-0 m-0 text-[#39364F] no-underline cursor-auto">Login</li></a>
                        <a href="Auth/Register"><li class="block p-0 m-0 text-[#39364F] no-underline cursor-auto">Register</li></a>
                    </ul>
                </div>
                {% endif  %}




                {% if isAuth  %}

                <!-- Desktop Navigation -->
                <div class="flex xl:hidden items-center gap-4">
                    <a
                            href="#"
                            class="flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-all duration-300 group">
                        <svg
                                class="w-5 h-5 transition-transform group-hover:scale-110"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24">
                            <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <span>Create</span>
                    </a>
                    <a
                            href="#"
                            class="flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-all duration-300 group">
                        <svg
                                class="w-5 h-5 transition-transform group-hover:scale-110"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24">
                            <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        <span>Likes</span>
                    </a>
                    <a
                            href="#"
                            class="flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-all duration-300 group">
                        <svg
                                class="w-5 h-5 transition-transform group-hover:scale-110"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24">
                            <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" />
                        </svg>
                        <span>Tickets</span>
                    </a>
                </div>
                <!-- User Profile Dropdown -->
                <div class="flex profile group relative ml-6">
                    <button
                            class="flex items-center gap-2 text-gray-900 hover:text-orange-500 transition-all duration-300">
                        <div
                                class="avatar h-10 w-10 rounded-full bg-gray-100 border-2 border-gray-200 group-hover:border-orange-500 transition-all duration-300 flex items-center justify-center overflow-hidden">
                            <svg class="h-8 w-8" viewBox="0 0 24 24" fill="none">
                                <circle
                                        cx="12"
                                        cy="12"
                                        r="10"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        fill="#f0f0f0" />
                                <circle cx="12" cy="8" r="4" fill="currentColor" />
                                <path
                                        d="M4 20c0-4 4-6 8-6s8 2 8 6"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        fill="none" />
                            </svg>
                        </div>
                        <span class="hidden lg:flex">{{ username }}</span>
                        <svg
                                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24">
                            <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>

                    <!-- Dropdown Menu -->
                    <div
                            class="absolute right-0 top-full mt-2 w-60 origin-top-right rounded-lg bg-white py-2 shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-600 transform translate-y-2 group-hover:translate-y-0">
                        <a
                                href="#"
                                class="flex gap-2 items-center block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        ><i class="fa-solid fa-eye"></i>Browse events</a
                        >
                        <a
                                href="#"
                                class="flex gap-2 items-center block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        ><i class="fa-solid fa-list-check"></i> Manage my events</a
                        >
                        <a
                                href="/CreateEvent"
                                class=" flex gap-2 items-center block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        ><i class="fa-solid fa-plus"></i>Create Event</a
                        >
                        <a
                                href="/CreateEvent"
                                class="flex gap-2 items-center block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        ><i class="fa-solid fa-repeat"></i>Switch Role</a
                        >
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Tickets (0)</a
                        >
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Liked</a
                        >
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Following</a
                        >
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Interests</a
                        >
                        <a
                                href="#"
                                class="flex gap-2 items-center block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        ><i class="fa-solid fa-gear"></i>Account settings</a
                        >
                        <a
                                href="logout"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Log out</a
                        >
                    </div>
                </div>
            {% endif %}

                <!-- Menu Dropdown -->
                <div class="flex xl:hidden  profile group relative ml-6">
                    <button
                            class="flex items-center gap-2 text-gray-900 hover:text-orange-500 transition-all duration-300">
                        <div
                                class="avatar h-10 w-10 rounded-full  group-hover:border-orange-500 transition-all duration-300 flex items-center justify-center overflow-hidden">
                            <i class="fa-solid fa-bars"></i>
                        </div>

                    </button>

                    <!-- Dropdown Menu -->
                    <div
                            class="absolute right-0 top-full mt-2 w-48 origin-top-right rounded-lg bg-white py-2 shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-600 transform translate-y-2 group-hover:translate-y-0">
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Find Event</a
                        >
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Create Event</a
                        >

                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Log in</a
                        >
                        <a
                                href="#"
                                class="block px-4 py-2 text-gray-900 hover:bg-orange-50 hover:text-orange-600 transition-colors duration-300 transform hover:translate-x-1"
                        >Register</a
                        >
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>